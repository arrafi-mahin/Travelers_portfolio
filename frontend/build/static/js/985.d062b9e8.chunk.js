"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[985],{9806:function(e,a,n){n.d(a,{Z:function(){return l}});var t=n(9439),s=n(2791),r=n(4301),i=n(184);var l=function(e){var a=(0,s.useState)(),n=(0,t.Z)(a,2),l=n[0],u=n[1],o=(0,s.useState)(),c=(0,t.Z)(o,2),d=c[0],p=c[1],m=(0,s.useState)(!1),v=(0,t.Z)(m,2),f=v[0],x=v[1],h=(0,s.useRef)();return(0,s.useEffect)((function(){if(l){var e=new FileReader;e.onload=function(){p(e.result)},e.readAsDataURL(l)}}),[l]),(0,i.jsxs)("div",{className:"form-control",children:[(0,i.jsx)("input",{type:"file",id:e.id,ref:h,style:{display:"none"},accept:".jpg,.png,.jpeg",onChange:function(a){var n,t=f;a.target.files&&1===a.target.files.length?(n=a.target.files[0],u(n),x(!0),t=!0):(x(!1),t=!1),e.onInput(e.id,n,t)}}),(0,i.jsxs)("div",{className:"image-upload ".concat(e.center&&"center"),children:[(0,i.jsxs)("div",{className:"image-upload__preview",children:[d&&(0,i.jsx)("img",{src:d,alt:"Preview"}),!d&&(0,i.jsx)("p",{children:"Please pick an image."})]}),(0,i.jsx)(r.Z,{type:"button",onClick:function(){h.current.click()},children:"PICK IMAGE"})]}),!f&&(0,i.jsxs)("p",{children:[" ",e.errorText]})]})}},4848:function(e,a,n){n.d(a,{Z:function(){return s}});n(2791);var t=n(184),s=function(e){return(0,t.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})}},4835:function(e,a,n){n.r(a),n.d(a,{default:function(){return j}});var t=n(1413),s=n(4165),r=n(5861),i=n(9439),l=n(2791),u=n(3975),o=n(4301),c=n(9806),d=n(7118),p=n(1551),m=n(4619),v=n(7035),f=n(4848),x=n(5573),h=n(8822),g=n(184);var j=function(e){var a=(0,l.useState)(!0),n=(0,i.Z)(a,2),j=n[0],Z=n[1],w=(0,v.x)(),I=w.isLoading,k=w.error,y=w.sendRequest,N=w.clearError,P=(0,l.useContext)(m.V),b=(0,p.c)({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),S=(0,i.Z)(b,3),C=S[0],T=S[1],O=S[2],V=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(a){var n,t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!j){e.next=14;break}return e.prev=2,e.next=5,y("http://localhost:5000/api/users/login","POST",JSON.stringify({email:C.inputs.email.value,password:C.inputs.password.value}),{"Content-Type":"application/json"});case 5:n=e.sent,P.login(n.userId,n.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:e.next=28;break;case 14:return e.prev=14,(t=new FormData).append("email",C.inputs.email.value),t.append("name",C.inputs.name.value),t.append("password",C.inputs.password.value),t.append("image",C.inputs.image.value),e.next=22,y("http://localhost:5000/api/users/signup","POST",t);case 22:r=e.sent,P.login(r.userId,r.token),e.next=28;break;case 26:e.prev=26,e.t1=e.catch(14);case 28:case"end":return e.stop()}}),e,null,[[2,9],[14,26]])})));return function(a){return e.apply(this,arguments)}}();return(0,g.jsxs)(l.Fragment,{children:[(0,g.jsx)(x.Z,{error:k,onClear:N}),(0,g.jsxs)(f.Z,{className:"authentication",children:[I&&(0,g.jsx)(h.Z,{asOverlay:!0}),(0,g.jsxs)("h2",{children:[j?"Login":"Sign Up"," Required."]}),(0,g.jsx)("hr",{}),(0,g.jsxs)("form",{onSubmit:V,children:[!j&&(0,g.jsx)(u.Z,{id:"name",element:"input",placeHolder:"Name",type:"text",label:"Your Name",validators:[(0,d.hg)()],errorText:"Please Input a valid Name.",onInput:T}),(0,g.jsx)(u.Z,{id:"email",element:"input",placeHolder:"Email",type:"email",label:"E-Mail",validators:[(0,d.Ox)()],errorText:"Please Input a valid email address.",onInput:T}),(0,g.jsx)(u.Z,{id:"password",element:"input",placeHolder:"Password",type:"password",label:"Password",validators:[(0,d.CP)(6)],errorText:"Please Input a valid Password at least 6 charecter.",onInput:T}),!j&&(0,g.jsx)(c.Z,{center:!0,id:"image",onInput:T}),(0,g.jsx)(o.Z,{type:"submit",disabled:!C.isValid,children:j?"LOGIN":"SIGNUP"})]}),(0,g.jsxs)(o.Z,{onClick:function(){j?O((0,t.Z)((0,t.Z)({},C.inputs),{},{name:{value:"",isValid:!1},image:{value:null,isValid:!1}}),!1):O((0,t.Z)((0,t.Z)({},C.inputs),{},{name:void 0,image:void 0}),C.inputs.email.isValid,C.inputs.password.isValid),Z(!j)},children:["SWITCH TO ",j?"SIGNUP":"LOGIN"]})]})]})}}}]);
//# sourceMappingURL=985.d062b9e8.chunk.js.map